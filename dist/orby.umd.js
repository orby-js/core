!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e["@orby/core"]={})}(this,function(e){var t=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]),this.tag=e,this.props=Object.assign({},t,{children:n})};function n(e){return e.shadowRoot||e}function r(e,t){e.removeChild(t)}function o(e,t){e.appendChild(t)}t.prototype.clone=function(e,n,r){return void 0===e&&(e=this.tag),void 0===n&&(n=this.props),void 0===r&&(r=this.props.children),new t(e,n,r)};var i,s,a={delay:1},f="__components__",c="__previous__",p="__remove__",u="__listeners__",d=/^(context|state|children|(create|update|remove)(d){0,1}|xmlns)$/;function v(e,t){for(var n,r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];e.prevent||("remove"===t&&(e.prevent=!0),e.props[t]&&(n=e.props)[t].apply(n,r))}var l=function(e,t,n,r,o){var a=this;this.tag=e,this.props={},this.states=[],this.effects=[],this.context={},this.prevent=!1,this.render=function(){if(!a.base[p]){s=0,i=a,a.effects=[[],[]];var f=e(a.props,a.context);return i=!1,a.base=h(a.parent,a.base,f,a.context,t,n+1,r+1,o),a.effects[1]=a.effects[0].map(function(e){return e()}),a.base}}};function h(e,i,s,a,p,m,b,_){void 0===a&&(a={}),void 0===m&&(m=0),void 0===b&&(b=0),void 0===_&&(_={});var x,w,j=i&&i[c]||new t,C=i&&i[f]||_,A=i,E=!0;if(j===s)return A;s instanceof t||(s=new t("",{},s));var N=s.props.children,S=s.props.context;if(a=S?Object.assign({},a,S):a,p="svg"===s.tag||p,C[b]&&C[b].tag!==s.tag&&(y(C[b]),delete C[b]),"function"==typeof s.tag&&((C[b]||{}).tag!==s.tag&&(C[b]=new l(s.tag,p,m,b,C)),w=C[b],s=s.clone(j.tag||"")),j.tag!==s.tag){if(A=function(e,t){return e?t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e):document.createTextNode("")}(s.tag,p),i){if(!w&&s.tag)for(var O=N.length;i.firstChild&&O--;)o(A,i.firstChild);!function(e,t,n){e.replaceChild(t,n)}(e,A,i),!w&&j.tag&&g(i)}else o(e,A);x=!0,v(s,"create",A)}if(w)return w.base=A,w.parent=e,w.props=s.props,w.context=a,w.prevent?w.base:w.render();if(s.tag){if(E=!1!==v(s,"update",A,j.props,s.props),x||E){!function(e,t,n,r){for(var o=Object.keys(t),i=Object.keys(n),s=o.concat(i),a={},f=function(o){var i=s[o];if(!a[i]&&t[i]!==n[i]&&!d.test(i))if(a[i]=!0,"scoped"===i&&"attachShadow"in e)e.attachShadow({mode:n[i]?"open":"closed"});else{var f="function"==typeof t[i],c="function"==typeof n[i];if(f||c)!c&&f&&e.removeEventListener(i,e[u][i][0]),c&&(f||(e[u]=e[u]||{},e[u][i]||(e[u][i]=[function(t){e[u][i][1](t)}]),e.addEventListener(i,e[u][i][0])),e[u][i][1]=n[i]);else if(i in n)if(i in e&&!r||r&&"style"===i)if("style"===i)if("object"==typeof n[i]){var p=t[i]||{},v=n[i];for(var l in v)p[l]!==v[l]&&("-"===l[0]?e.style.setProperty(l,v[l]):e.style[l]=v[l])}else e.style.cssText=n[i];else e[i]=n[i];else r?e.setAttributeNS(null,i,n[i]):e.setAttribute(i,n[i]);else e.removeAttribute(i)}},c=0;c<s.length;c++)f(c)}(A,j.tag===s.tag?j.props:{},s.props,p);for(var T=s.props.scoped?n(A):A,k=T.childNodes,L=0,M=Math.max(N.length,k.length),P=0;P<M;P++){var R=P-L;P in N?h(T,k[R],N[P],a,p):(g(k[R]),r(T,k[R]),L++)}}}else j.props.children!==s.props.children&&(A.textContent=s.props.children);return A[c]=E?s:j,A[f]=C,v(s,x?"created":"updated",A),A}function g(e){var t=e[c],n=e[f],r=e.childNodes;if(t){for(var o in e[p]=!0,n)y(n[o]);v(t,"remove",e);for(var i=0;i<r.length;i++)g(r[i]);v(t,"removed",e)}}function y(e){for(var t=e.effects[1],n=0;n<t.length;n++)t[n]&&t[n](e)}e.render=function(e,t,r,o,i){return h(n(t),r,e,o,i)},e.h=function(e,n){for(var r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];return new t(e||"",n,function e(t,n){void 0===n&&(n=[]);for(var r=0;r<t.length;r++){var o=t[r];Array.isArray(o)?e(o,n):n.push(o)}return n}(r))},e.options=a,e.useState=function(e){var t=s++,n=i;return t in n.states||n.states.push("function"==typeof e?e():e),[n.states[t],function(e){n.states[t]=e,n.prevent||(setTimeout(function(){n.render(),n.prevent=!1},a.delay),n.prevent=!0)},function(){return n.states[t]}]},e.useEffect=function(e){i.effects[0].push(e)}});
//# sourceMappingURL=orby.umd.js.map
