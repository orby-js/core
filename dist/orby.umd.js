!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e["@orby/core"]={})}(this,function(e){var t=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]),this.tag=e,this.props=Object.assign({},t,{children:n})};function n(e){return e.shadowRoot||e}function r(e,t){e.removeChild(t)}function o(e,t){e.appendChild(t)}t.prototype.clone=function(e,n,r){return void 0===e&&(e=this.tag),void 0===n&&(n=this.props),void 0===r&&(r=this.props.children),new t(e,n,r)},t.prototype.emit=function(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];this.prevent||("remove"===e&&(this.prevent=!0),"function"==typeof this.props[e]&&(t=this.props)[e].apply(t,n))};var i={delay:1},s="__components__",p="__previous__",a="__remove__",c="__listeners__",f=/^(context|state|children|(create|update|remove)(d){0,1}|xmlns)$/;function d(e,t,n,r,o,s){var p=this;this.tag=e,this.state=t,this.context={},this.prevent=!1,this.render=function(e,t){return t=u(e,t,p.tag(p.props,{set:function(n){p.state=n,t[a]||p.prevent||(p.prevent=!0,setTimeout(function(){p.render(e,t),p.prevent=!1},i.delay))},get:function(){return p.state}},p.context),p.context,n,r+1,o+1,s)}}function u(e,i,v,l,h,g,m,y){void 0===l&&(l={}),void 0===g&&(g=0),void 0===m&&(m=0),void 0===y&&(y={});var _,x,w=i&&i[p]||new t,b=i&&i[s]||y,j=i;if(w===v)return j;v instanceof t||(v=new t("",{},v));var A=v.props.children,C=v.props.context;if(l=C?Object.assign({},l,C):l,h="svg"===v.tag||h,b[m]&&b[m].tag!==v.tag&&delete b[m],"function"==typeof v.tag&&((b[m]||{}).tag!==v.tag&&(b[m]=new d(v.tag,v.props.state,h,g,m,b)),x=b[m],v=v.clone(w.tag||(h?"g":""))),w.tag!==v.tag){if(j=function(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg",e):e?document.createElement(e):document.createTextNode("")}(v.tag,h),i){if(!x&&v.tag)for(var E=A.length;i.firstChild&&E--;)o(j,i.firstChild);!function(e,t,n){e.replaceChild(t,n)}(e,j,i),!x&&w.tag&&function e(n){var r=n&&n[MASTER]||{};var o=r.prev;void 0===o&&(o=new t);var i=n.childNodes;n[a]=!0;o.emit("remove",n);for(var s=0;s<i.length;s++)e(i[s]);o.emit("removed",n)}(i)}else o(e,j);_=!0,v.emit("create",j)}if(x)return x.props=v.props,x.context=l,g&&x.prevent?j:x.render(e,j);if(v.tag){if(_||!1!==v.emit("update",j,w.props,v.props)){!function(e,t,n,r){for(var o=Object.keys(t),i=Object.keys(n),s=o.concat(i),p={},a=function(o){var i=s[o];if(!p[i]&&t[i]!==n[i]&&!f.test(i))if(p[i]=!0,"scoped"===i&&"attachShadow"in e)e.attachShadow({mode:n[i]?"open":"closed"});else{var a="function"==typeof t[i],d="function"==typeof n[i];if(a||d)!d&&a&&e.removeEventListener(i,e[c][i][0]),d&&(a||(e[c]=e[c]||{},e[c][i]||(e[c][i]=[function(t){e[c][i][1](t)}]),e.addEventListener(i,e[c][i][0])),e[c][i][1]=n[i]);else if(i in n)if(i in e&&!r||r&&"style"===i)if("style"===i)if("object"==typeof n[i]){var u=t[i]||{},v=n[i];for(var l in v)u[l]!==v[l]&&("-"===l[0]?e.style.setProperty(l,v[l]):e.style[l]=v[l])}else e.style.cssText=n[i];else e[i]=n[i];else r?e.setAttributeNS(null,i,n[i]):e.setAttribute(i,n[i]);else e.removeAttribute(i)}},d=0;d<s.length;d++)a(d)}(j,w.tag===v.tag?w.props:{},v.props,h);for(var N=v.props.scoped?n(j):j,S=N.childNodes,O=0,T=Math.max(A.length,S.length),k=0;k<T;k++){var L=k-O;k in A?u(N,S[L],A[k],h):(r(N,S[L]),O++)}}}else w.props.children!==v.props.children&&(j.textContent=v.props.children);return j[p]=v,j[s]=b,v.emit(_?"created":"updated",j),j}e.render=function(e,t,r,o,i){return u(n(t),r,e,o,i)},e.h=function(e,n){for(var r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];return new t(e||"",n,function e(t,n){void 0===n&&(n=[]);for(var r=0;r<t.length;r++){var o=t[r];Array.isArray(o)?e(o,n):n.push(o)}return n}(r))},e.options=i});
//# sourceMappingURL=orby.umd.js.map
