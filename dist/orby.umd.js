!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e["@orby/core"]={})}(this,function(e){var t,n,o=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]),this.tag=e,this.props=Object.assign({},t,{children:n}),this.key=this.props.key};function r(e){return e.shadowRoot||e}function s(e,t){e.removeChild(t)}function i(e,t){e.appendChild(t)}function a(e,t,n){e.insertBefore(t,n)}o.prototype.clone=function(e,t,n){return void 0===e&&(e=this.tag),void 0===t&&(t=this.props),void 0===n&&(n=this.props.children),new o(e,t,n)};var f={delay:1},c="__components__",p="__previous__",d="__remove__",u="__listeners__",v=/^(context|state|children|(on){0,1}(create|update|remove)(d){0,1}|xmlns|key)$/;function l(e,t){for(var n,o=[],r=arguments.length-2;r-- >0;)o[r]=arguments[r+2];e.removed||e.remove&&"removed"!==t||("remove"===t&&(e.remove=!0),"removed"===t&&(e.removed=!0),e.props[t]&&(n=e.props)[t].apply(n,o))}var h=function(e,o,r,s){var i=this;this.tag=e,this.props={},this.states=[],this.effects=[],this.context={},this.prevent=!1,this.render=function(){if(!i.base[d]){n=0,t=i,i.effects=[[],[]];var a=e(i.props,i.context);return t=!1,i.base=g(i.parent,i.base,!1,a,i.context,o,r+1,s),i.effects[1]=i.effects[0].map(function(e){return e()}),i.base}}};function g(e,t,n,f,d,b,_,w){void 0===d&&(d={}),void 0===_&&(_=0),void 0===w&&(w=[]);var x,k,C=t&&t[p]||new o,j=t&&t[c]||w,N=t,A=!0;if(C===f)return N;f instanceof o||(f=new o("",{},f));var E=f.props.children,S=f.props.context;if(d=S?Object.assign({},d,S):d,b="svg"===f.tag||b,j[_]&&j[_].tag!==f.tag&&m(j.splice(_)),"function"==typeof f.tag&&((j[_]||{}).tag!==f.tag&&(j[_]=new h(f.tag,b,_,j)),k=j[_],f=f.clone(C.tag||"")),C.tag!==f.tag){if(N=function(e,t){return e?t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e):document.createTextNode("")}(f.tag,b),t){if(!k&&f.tag)for(;t.firstChild;)i(N,t.firstChild);!k&&C.tag&&y(t),function(e,t,n){e.replaceChild(t,n)}(e,N,t)}else(n?a:i)(e,N,n);x=!0,k||l(f,"create",N)}if(k)return k.base=N,k.parent=e,k.props=f.props,k.context=d,k.prevent?k.base:k.render();if(f.tag){if(A=!1!==l(f,"update",N,C.props,f.props),x||A){!function(e,t,n,o){for(var r=Object.keys(t),s=Object.keys(n),i=r.concat(s),a=i.length,f={},c=function(r){var s=i[r],a=t[s],c=n[s];if(!f[s]&&a!==c&&!v.test(s))if(f[s]=!0,"class"!==s||svg||(s="className",c=c||"",a=a||""),"scoped"===s&&"attachShadow"in e)e.attachShadow({mode:c?"open":"closed"});else{var p="function"==typeof a,d="function"==typeof c;if(p||d)s=s.replace(/on(\w)/,function(e,t){return t.toLowerCase()}),!d&&p&&e.removeEventListener(s,e[u][s][0]),d&&(p||(e[u]=e[u]||{},e[u][s]||(e[u][s]=[function(t){e[u][s][1](t)}]),e.addEventListener(s,e[u][s][0])),e[u][s][1]=c);else if(s in n)if(s in e&&!o||o&&"style"===s)if("style"===s)if("object"==typeof c){var l=a||{},h=c;for(var g in h)l[g]!==h[g]&&("-"===g[0]?e.style.setProperty(g,h[g]):e.style[g]=h[g])}else e.style.cssText=c;else e[s]=c;else o?e.setAttributeNS(null,s,c):e.setAttribute(s,c);else e.removeAttribute(s)}},p=0;p<a;p++)c(p)}(N,C.tag===f.tag?C.props:{},f.props,b);for(var O=f.props.scoped?r(N):N,L=O.childNodes,T=E.length,K=L.length,B={},P=0;P<K;P++){var R=L[P],$=R[p],q=$&&void 0!==$.key;B[q?$.key:P]={node:R,index:P,useKey:q}}for(var z=0;z<T;z++){var D=E[z],F=D instanceof o&&void 0!==D.key?D.key:z,G=B[F]||{};G.useKey&&G.node!==L[z]&&a(O,G.node,L[z]),g(O,G.node,L[z],D,d,b),delete B[F]}for(var H in B){var I=B[H];y(I.node),s(O,I.node)}}}else C.props.children!==f.props.children&&(N.textContent=f.props.children);return N[p]=A?f:C,N[c]=j,l(f,x?"created":"updated",N),N}function y(e){var t,n=e[p],o=e[c],r=e.childNodes;if(n){e[d]=!0,l(n,"remove",e),m(o),t=r.length;for(var s=0;s<t;s++)y(r[s]);l(n,"removed",e)}}function m(e){for(var t=e.length,n=0;n<t;n++)for(var o=e[n].effects[1],r=o.length,s=0;s<r;s++)o[s]&&o[s]()}e.render=function(e,t,n,o,s){return g(r(t),n,!1,e,o,s)},e.h=function(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return new o(e||"",t,function e(t,n){void 0===n&&(n=[]);for(var o=t.length,r=0;r<o;r++){var s=t[r];Array.isArray(s)?e(s,n):n.push(s)}return n}(n))},e.options=f,e.useState=function(e){var o=n++,r=t;return o in r.states||r.states.push("function"==typeof e?e():e),[r.states[o],function(e){r.states[o]=e,r.prevent||(setTimeout(function(){r.render(),r.prevent=!1},f.delay),r.prevent=!0)},function(){return r.states[o]}]},e.useEffect=function(e){t.effects[0].push(e)}});
//# sourceMappingURL=orby.umd.js.map
