var t=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=[]),this.tag=t,this.props=Object.assign({},e,{children:r})};function e(e){return"object"==typeof e&&e instanceof t}function r(t){return t.shadowRoot||t}function n(t,e,r){t.removeChild(e)}function o(t,e,r){t.appendChild(e)}t.prototype.clone=function(e,r,n){return void 0===e&&(e=this.tag),void 0===r&&(r=this.props),void 0===n&&(n=this.props.children),new t(e,r,n)},t.prototype.emit=function(t){for(var e,r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];this.prevent||("remove"===t&&(this.prevent=!0),"function"==typeof this.props[t]&&(e=this.props)[t].apply(e,r))};var i={delay:1},s="__master__",p="__remove__",a="__listeners__",c=["children","create","created","remove","removed","update","updated","context","state","static"];function f(t){return t&&t[s]||{}}function v(t,e,r,n,o,s){var a=this;this.tag=t,this.state=e,this.context={},this.prevent=!1,this.render=function(t,e){return e=d(t,e,a.tag(a.props,{set:function(r){a.state=r,e[p]||a.prevent||(a.prevent=!0,setTimeout(function(){a.render(t,e),a.prevent=!1},i.delay))},get:function(){return a.state}},a.context),a.context,r,n+1,o+1,s)}}function d(i,p,l,h,g,m,y,x){void 0===h&&(h={}),void 0===m&&(m=0),void 0===y&&(y=0),void 0===x&&(x={}),l=e(l)?l:new t("",{},[l||""]);var w=p,_=f(w),E=_.prev;void 0===E&&(E=new t);var b=_.components;void 0===b&&(b=x);var O,A,N=l.props.context;if(h=N?Object.assign({},h,N):h,g="svg"===l.tag||g,E===l||E.tag&&l.tag&&l.props.static)return w;b[y]&&b[y].tag!==l.tag&&delete b[y],"function"==typeof l.tag&&((b[y]||{}).tag!==l.tag&&(b[y]=new v(l.tag,l.props.state,g,m,y,b)),O=b[y],l=l.clone(E.tag||(g?"g":"")));var j=l.props.children;if(l.tag!==E.tag){if(w=function(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg",t):t?document.createElement(t):document.createTextNode("")}(l.tag,g),p){if(!O&&""!==l.tag)for(var C=j.length;p.firstChild&&C--;)o(w,p.firstChild);!function(t,e,r,n){t.replaceChild(e,r)}(i,w,p),O||u(p)}else o(i,w);A=!0,l.emit("create",w)}if(O)return O.props=l.props,O.context=h,m&&O.prevent?w:O.render(i,w);if(l.tag){if(A||!1!==l.emit("update",w,E.props,l.props)){!function(t,e,r,n){for(var o=Object.keys(e),i=Object.keys(r).filter(function(t){return-1===o.indexOf(t)}),s=o.concat(i),p=function(o){var i=s[o];if(!(c.indexOf(i)>-1||e[i]===r[i])){var p="function"==typeof e[i],f="function"==typeof r[i];if(p||f)!f&&p&&t.removeEventListener(i,t[a][i][0]),f&&(p||(t[a]=t[a]||{},t[a][i]||(t[a][i]=[function(e){t[a][i][1](e)}]),t.addEventListener(i,t[a][i][0])),t[a][i][1]=r[i]);else if(i in r)if(i in t&&!n||n&&"style"===i)if("style"===i)if("object"==typeof r[i]){var v=e[i]||{},d=r[i];for(var u in d)v[u]!==d[u]&&("-"===u[0]?t.setProperty(u,d[u]):t.style[u]=d[u])}else t.style.cssText=r[i];else t[i]=r[i];else n?t.setAttributeNS(null,i,r[i]):t.setAttribute(i,r[i]);else t.removeAttribute(i)}},f=0;f<s.length;f++)p(f)}(w,l.tag===E.tag?E.props:{},l.props,g),m++;for(var R=Array.from(r(w).childNodes),S=Math.max(R.length,j.length),T=0;T<S;T++)j[T]?d(w,R[T],j[T],h,g,m):R[T]&&(u(R[T]),n(w,R[T]))}}else E.props.children[0]!==l.props.children[0]&&(w.textContent=String(l.props.children[0]));return w[s]={prev:l,components:b},l.emit(A?"created":"updated",w),w}function u(e){var r=f(e).prev;void 0===r&&(r=new t);var n=e.childNodes;e[p]=!0,r.emit("remove",e);for(var o=0;o<n.length;o++)u(n[o]);r.emit("removed",e)}exports.render=function(t,e,n,o,i){return d(r(e),n,t,o,i)},exports.h=function(r,n){for(var o=[],i=arguments.length-2;i-- >0;)o[i]=arguments[i+2];return new t(r||"",n,function r(n,o){void 0===o&&(o=[]);for(var i=0;i<n.length;i++){var s=n[i];Array.isArray(s)?r(s,o):o.push(e(s)?s:new t("",{},[s||""]))}return o}(o))},exports.isVDom=e,exports.options=i,exports.MASTER=s,exports.LISTENER=a,exports.REMOVE=p,exports.IGNORE=c;
//# sourceMappingURL=orby.js.map
