var t=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=[]),this.tag=t,this.props=Object.assign({},e,{children:n})};function e(e,n){for(var r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];return new t(e||"",n,function t(e,n){void 0===n&&(n=[]);for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?t(o,n):n.push(o)}return n}(r))}function n(t){return t.shadowRoot||t}function r(t,e){t.removeChild(e)}function o(t,e){t.appendChild(e)}t.prototype.clone=function(e,n,r){return void 0===e&&(e=this.tag),void 0===n&&(n=this.props),void 0===r&&(r=this.props.children),new t(e,n,r)},t.prototype.emit=function(t){for(var e,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];this.prevent||("remove"===t&&(this.prevent=!0),"function"==typeof this.props[t]&&(e=this.props)[t].apply(e,n))};var i="attachShadow",s={delay:1},a="__components__",p="__previous__",c="__remove__",f="__listeners__",v=/^(context|state|children|(create|update|remove)(d){0,1}|)$/;function d(t,e,r,o,i){return l(n(e),r,t,o,i)}function u(t,e,n,r,o,i){var a=this;this.tag=t,this.state=e,this.context={},this.prevent=!1,this.render=function(t,e){return e=l(t,e,a.tag(a.props,{set:function(n){a.state=n,e[c]||a.prevent||(a.prevent=!0,setTimeout(function(){a.render(t,e),a.prevent=!1},s.delay))},get:function(){return a.state}},a.context),a.context,n,r+1,o+1,i)}}function l(e,s,d,h,g,m,y,_){void 0===h&&(h={}),void 0===m&&(m=0),void 0===y&&(y=0),void 0===_&&(_={});var w,x,b=s&&s[p]||new t,A=s&&s[a]||_,C=s;if(b===d)return C;d instanceof t||(d=new t("",{},d));var j=d.props.children,E=d.props.context;if(h=E?Object.assign({},h,E):h,g="svg"===d.tag||g,A[y]&&A[y].tag!==d.tag&&delete A[y],"function"==typeof d.tag&&((A[y]||{}).tag!==d.tag&&(A[y]=new u(d.tag,d.props.state,g,m,y,A)),x=A[y],d=d.clone(b.tag||(g?"g":""))),b.tag!==d.tag){if(C=function(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg",t):t?document.createElement(t):document.createTextNode("")}(d.tag,g),s){if(!x&&d.tag)for(var N=j.length;s.firstChild&&N--;)o(C,s.firstChild);!function(t,e,n){t.replaceChild(e,n)}(e,C,s),!x&&b.tag&&function e(n){var r=n&&n[MASTER]||{};var o=r.prev;void 0===o&&(o=new t);var i=n.childNodes;n[c]=!0;o.emit("remove",n);for(var s=0;s<i.length;s++)e(i[s]);o.emit("removed",n)}(s)}else o(e,C);w=!0,d.emit("create",C)}if(x)return x.props=d.props,x.context=h,m&&x.prevent?C:x.render(e,C);if(d.tag){if(w||!1!==d.emit("update",C,b.props,d.props)){!function(t,e,n,r){for(var o=Object.keys(e),s=Object.keys(n),a=o.concat(s),p={},c=function(o){var s=a[o];if(!p[s]&&e[s]!==n[s]&&!v.test(s)){p[s]=!0,i===s&&i in t&&t.attachShadow({mode:n[s]?"open":"closed"});var c="function"==typeof e[s],d="function"==typeof n[s];if(c||d)!d&&c&&t.removeEventListener(s,t[f][s][0]),d&&(c||(t[f]=t[f]||{},t[f][s]||(t[f][s]=[function(e){t[f][s][1](e)}]),t.addEventListener(s,t[f][s][0])),t[f][s][1]=n[s]);else if(s in n)if(s in t&&!r||r&&"style"===s)if("style"===s)if("object"==typeof n[s]){var u=e[s]||{},l=n[s];for(var h in l)u[h]!==l[h]&&("-"===h[0]?t.style.setProperty(h,l[h]):t.style[h]=l[h])}else t.style.cssText=n[s];else t[s]=n[s];else r?t.setAttributeNS(null,s,n[s]):t.setAttribute(s,n[s]);else t.removeAttribute(s)}},d=0;d<a.length;d++)c(d)}(C,b.tag===d.tag?b.props:{},d.props,g);for(var S=d.props[i]?n(C):C,O=S.childNodes,T=0,k=Math.max(j.length,O.length),L=0;L<k;L++){var M=L-T;L in j?l(S,O[M],j[L],g):(r(S,O[M]),T++)}}}else b.props.children!==d.props.children&&(C.textContent=d.props.children);return C[p]=d,C[a]=A,d.emit(w?"created":"updated",C),C}export{d as render,e as h,s as options};
//# sourceMappingURL=orby.m.js.map
