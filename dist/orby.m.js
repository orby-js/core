var t=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=[]),this.tag=t,this.props=Object.assign({},e,{children:r})};function e(e,n){for(var o=[],i=arguments.length-2;i-- >0;)o[i]=arguments[i+2];return new t(e||"",n,function e(n,o){void 0===o&&(o=[]);for(var i=0;i<n.length;i++){var s=n[i];Array.isArray(s)?e(s,o):o.push(r(s)?s:new t("",{},[s||""]))}return o}(o))}function r(e){return"object"==typeof e&&e instanceof t}function n(t){return t.shadowRoot||t}function o(t,e,r){t.removeChild(e)}function i(t,e,r){t.appendChild(e)}t.prototype.clone=function(e,r,n){return void 0===e&&(e=this.tag),void 0===r&&(r=this.props),void 0===n&&(n=this.props.children),new t(e,r,n)},t.prototype.emit=function(t){for(var e,r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];this.prevent||("remove"===t&&(this.prevent=!0),"function"==typeof this.props[t]&&(e=this.props)[t].apply(e,r))};var s={delay:1},a="__master__",p="__remove__",c="__listeners__",f=["children","create","created","remove","removed","update","updated","context","state","static"];function v(t,e,r,o,i){return l(n(e),r,t,o,i)}function d(t){return t&&t[a]||{}}function u(t,e,r,n,o,i){var a=this;this.tag=t,this.state=e,this.context={},this.prevent=!1,this.render=function(t,e){return e=l(t,e,a.tag(a.props,{set:function(r){a.state=r,e[p]||a.prevent||(a.prevent=!0,setTimeout(function(){a.render(t,e),a.prevent=!1},s.delay))},get:function(){return a.state}},a.context),a.context,r,n+1,o+1,i)}}function l(e,s,p,v,g,m,y,x){void 0===v&&(v={}),void 0===m&&(m=0),void 0===y&&(y=0),void 0===x&&(x={}),p=r(p)?p:new t("",{},[p||""]);var w=s,_=d(w),b=_.prev;void 0===b&&(b=new t);var j=_.components;void 0===j&&(j=x);var A,C,O=p.props.context;if(v=O?Object.assign({},v,O):v,g="svg"===p.tag||g,b===p||b.tag&&p.tag&&p.props.static)return w;j[y]&&j[y].tag!==p.tag&&delete j[y],"function"==typeof p.tag&&((j[y]||{}).tag!==p.tag&&(j[y]=new u(p.tag,p.props.state,g,m,y,j)),A=j[y],p=p.clone(b.tag||(g?"g":"")));var N=p.props.children;if(p.tag!==b.tag){if(w=function(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg",t):t?document.createElement(t):document.createTextNode("")}(p.tag,g),s){if(!A&&""!==p.tag)for(var E=N.length;s.firstChild&&E--;)i(w,s.firstChild);!function(t,e,r,n){t.replaceChild(e,r)}(e,w,s),A||h(s)}else i(e,w);C=!0,p.emit("create",w)}if(A)return A.props=p.props,A.context=v,m&&A.prevent?w:A.render(e,w);if(p.tag){if(C||!1!==p.emit("update",w,b.props,p.props)){!function(t,e,r,n){for(var o=Object.keys(e),i=Object.keys(r).filter(function(t){return-1===o.indexOf(t)}),s=o.concat(i),a=function(o){var i=s[o];if(!(f.indexOf(i)>-1||e[i]===r[i])){var a="function"==typeof e[i],p="function"==typeof r[i];if(a||p)!p&&a&&t.removeEventListener(i,t[c][i][0]),p&&(a||(t[c]=t[c]||{},t[c][i]||(t[c][i]=[function(e){t[c][i][1](e)}]),t.addEventListener(i,t[c][i][0])),t[c][i][1]=r[i]);else if(i in r)if(i in t&&!n||n&&"style"===i)if("style"===i)if("object"==typeof r[i]){var v=e[i]||{},d=r[i];for(var u in d)v[u]!==d[u]&&("-"===u[0]?t.setProperty(u,d[u]):t.style[u]=d[u])}else t.style.cssText=r[i];else t[i]=r[i];else n?t.setAttributeNS(null,i,r[i]):t.setAttribute(i,r[i]);else t.removeAttribute(i)}},p=0;p<s.length;p++)a(p)}(w,p.tag===b.tag?b.props:{},p.props,g),m++;for(var S=Array.from(n(w).childNodes),T=Math.max(S.length,N.length),k=0;k<T;k++)N[k]?l(w,S[k],N[k],v,g,m):S[k]&&(h(S[k]),o(w,S[k]))}}else b.props.children[0]!==p.props.children[0]&&(w.textContent=String(p.props.children[0]));return w[a]={prev:p,components:j},p.emit(C?"created":"updated",w),w}function h(e){var r=d(e).prev;void 0===r&&(r=new t);var n=e.childNodes;e[p]=!0,r.emit("remove",e);for(var o=0;o<n.length;o++)h(n[o]);r.emit("removed",e)}export{v as render,e as h,r as isVDom,s as options,a as MASTER,c as LISTENER,p as REMOVE,f as IGNORE};
//# sourceMappingURL=orby.m.js.map
