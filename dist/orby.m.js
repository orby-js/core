var t=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=[]),this.tag=t,this.props=Object.assign({},e,{children:r})};function e(e,n){for(var o=[],i=arguments.length-2;i-- >0;)o[i]=arguments[i+2];return new t(e||"",n,function e(n,o){void 0===o&&(o=[]);for(var i=0;i<n.length;i++){var s=n[i];Array.isArray(s)?e(s,o):o.push(r(s)?s:new t("",{},[s||""]))}return o}(o))}function r(e){return"object"==typeof e&&e instanceof t}function n(t){return t.shadowRoot||t}function o(t,e){n(t).removeChild(e)}function i(t,e){n(t).appendChild(e)}t.prototype.clone=function(e,r,n){return void 0===e&&(e=this.tag),void 0===r&&(r=this.props),void 0===n&&(n=this.props.children),new t(e,r,n)},t.prototype.emit=function(t){for(var e,r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];this.prevent||("remove"===t&&(this.prevent=!0),"function"==typeof this.props[t]&&(e=this.props)[t].apply(e,r))};var s="__master__",a="__remove__",p="__listeners__",c=["children","create","created","remove","removed","update","updated","context","state","static"];function f(t,e,r,n,o){return d(e,r,t,n,o)}function v(t){return t&&t[s]||{}}function u(t,e,r,n,o,i){var s=this;this.tag=t,this.state=e,this.context={},this.prevent=!1,this.render=function(t,e){return e=d(t,e,s.tag(s.props,{set:function(r){s.state=r,e[a]||s.prevent||(s.prevent=!0,requestAnimationFrame(function(){s.render(t,e),s.prevent=!1}))},get:function(){return s.state}},s.context),s.context,r,n+1,o+1,i)}}function d(e,a,f,h,g,m,y,x){void 0===h&&(h={}),void 0===m&&(m=0),void 0===y&&(y=0),void 0===x&&(x={}),f=r(f)?f:new t("",{},[f||""]);var w=a,_=v(w),b=_.prev;void 0===b&&(b=new t);var A=_.components;void 0===A&&(A=x);var j,C,O=f.props.context;if(h=O?Object.assign({},h,O):h,g="svg"===f.tag||g,b===f||b.tag&&f.tag&&f.props.static)return w;A[y]&&A[y].tag!==f.tag&&delete A[y],"function"==typeof f.tag&&((A[y]||{}).tag!==f.tag&&(A[y]=new u(f.tag,f.props.state,g,m,y,A)),j=A[y],f=f.clone(b.tag||(g?"g":"")));var N=f.props.children;if(f.tag!==b.tag){if(w=function(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg",t):t?document.createElement(t):document.createTextNode("")}(f.tag,g),a){if(!j&&""!==f.tag)for(var E=N.length;a.firstChild&&E--;)i(w,a.firstChild);!function(t,e,r){n(t).replaceChild(e,r)}(e,w,a),j||l(a)}else i(e,w);C=!0,f.emit("create",w)}if(j)return j.props=f.props,j.context=h,m&&j.prevent?w:j.render(e,w);if(f.tag){if(C||!1!==f.emit("update",w,b.props,f.props)){!function(t,e,r,n){for(var o=Object.keys(e),i=Object.keys(r).filter(function(t){return-1===o.indexOf(t)}),s=o.concat(i),a=function(o){var i=s[o];if(!(c.indexOf(i)>-1||e[i]===r[i])){var a="function"==typeof e[i],f="function"==typeof r[i];if(a||f)!f&&a&&t.removeEventListener(i,t[p][i][0]),f&&(a||(t[p]=t[p]||{},t[p][i]||(t[p][i]=[function(e){t[p][i][1](e)}]),t.addEventListener(i,t[p][i][0])),t[p][i][1]=r[i]);else if(i in r)if(i in t&&!n||n&&"style"===i)if("style"===i)if("object"==typeof r[i]){var v=e[i]||{},u=r[i];for(var d in u)v[d]!==u[d]&&("-"===d[0]?t.setProperty(d,u[d]):t.style[d]=u[d])}else t.style.cssText=r[i];else t[i]=r[i];else n?t.setAttributeNS(null,i,r[i]):t.setAttribute(i,r[i]);else t.removeAttribute(i)}},f=0;f<s.length;f++)a(f)}(w,f.tag===b.tag?b.props:{},f.props,g),m++;for(var S=Array.from(n(w).childNodes),k=Math.max(S.length,N.length),L=0;L<k;L++)N[L]?d(w,S[L],N[L],h,g,m):S[L]&&(l(S[L]),o(w,S[L]))}}else b.props.children[0]!==f.props.children[0]&&(w.textContent=String(f.props.children[0]));return w[s]={prev:f,components:A},f.emit(C?"created":"updated",w),w}function l(e){var r=v(e).prev;void 0===r&&(r=new t);var n=e.childNodes;e[a]=!0,r.emit("remove",e);for(var o=0;o<n.length;o++)l(n[o]);r.emit("removed",e)}export{f as render,e as h,r as isVDom};
//# sourceMappingURL=orby.m.js.map
